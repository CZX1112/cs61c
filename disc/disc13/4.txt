4. 阿姆达尔定律

在我们编写的程序中，有一些代码段自然可以被加速。 然而，有些部分可能无法进一步优化以保持正确性。 
最后，整体程序加速是重要的数字，我们可以使用阿姆达尔定律来确定这一点：

真正的加速 = 1 / (S + (1 - S) / P)

其中S是非加速部分，P是加速因子（由核心、线程数量等决定）。

4.1 您将使用具有 32 个线程的计算机运行一个卷积网络来对一组 100,000 张图像进行分类。 
您注意到项目代码的 99% 的执行可以在这些线程上并行执行。 什么是加速比？

True Speedup = 1 / (0.01 + 0.99 / 32) = 1 / 0.04 = 25

4.2 您在不同的程序上运行分析程序，以了解每个函数占用该程序的百分比。 您将得到以下结果：

(a). 我们不知道这些函数是否真的可以并行化。 然而，假设所有这些都可以，哪一个将从并行性中受益最多？

h

(b). 假设我们已经验证您选择的函数实际上可以并行化。 如果仅使用 8 个线程并行化此函数，您会获得多少加速？

True Speedup = 1 / (0.4 + 0.6 / 8) = 2.1